<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>Onboarding Swiper</title>

  <!-- Swiper CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
  />
  <link rel="stylesheet" href="./css/slide.css">
</head>

<body>
  <div class="swiper">
    <div class="swiper-wrapper">

      <!-- Slide 1 -->
      <div class="swiper-slide">
        <div class="slide-inner">
          <div class="title">차박<br />어디로 떠나야할지 모르겠나요?</div>
          <div class="desc">
            지도 기반 위치 및 키워드 검색후 원하는 장소를 한번에
          </div>
          <div class="image-wrap">
            <img src="./img/Frame-2.gif" alt="지도 캐릭터" />
          </div>
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="swiper-slide">
        <div class="slide-inner">
          <div class="title">차만 있다면<br />장비는 가격부담 적은 렌탈로</div>
          <div class="desc">
            차박에 필요한 물품들을 홈보드로 불러보세요
          </div>
          <div class="image-wrap">
            <img src="./img/Frame 2.png" alt="렌탈 캐릭터" />
          </div>
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="swiper-slide">
        <div class="slide-inner">
          <div class="title">일상이 바쁠땐<br />실시간 라이브로 대리만족하세요</div>
          <div class="desc">
            라이브로 다른 뷰너 시청자들과 소통하는 즐거움
          </div>
          <div class="image-wrap">
            <img src="./img/Frame-3.gif" alt="캠프파이어 캐릭터" />
          </div>
        </div>
      </div>

    </div>

    <div class="swiper-pagination"></div>
  </div>

  <!-- 마지막 슬라이드에서만 보일 버튼 -->
  <button class="cta" style="display:none;">시작하기</button>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script>
    const ctaBtn = document.querySelector(".cta");

    const swiper = new Swiper(".swiper", {
      loop: false, // 마지막에서 멈춤
      autoplay: {
        delay: 3000,
        stopOnLastSlide: true, // 마지막 슬라이드에서 자동재생 종료
        disableOnInteraction: false,
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      on: {
        // 초기 진입 시 버튼 상태 반영
        init() {
          const isLast = this.activeIndex === this.slides.length - 1;
          ctaBtn.style.display = isLast ? "block" : "none";
        },
        // 슬라이드 바뀔 때마다 마지막 여부 체크
        slideChange() {
          const isLast = this.activeIndex === this.slides.length - 1;
          ctaBtn.style.display = isLast ? "block" : "none";
        }
      }
    });

    // init 이벤트가 확실히 실행되도록
    swiper.init();

    // 버튼 클릭 시 이동
  ctaBtn.addEventListener("click", () => {
  window.location.href = "https://www.naver.com";
});

  </script>
</body>
</html>
